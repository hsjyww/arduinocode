#include <Arduino.h>
#include <Stepper.h>

const int stepsPerRevolution = 2048; // 28BYJ-48 스텝모터 기준
Stepper myStepper(stepsPerRevolution, 8, 10, 9, 11); // 핀 순서 유의

int potPin = A0;  
int potValue = 0; 
int motorSpeed = 0;

void setup() {
  Serial.begin(9600);
  myStepper.setSpeed(10); // 초기 속도
}

void loop() {
  potValue = analogRead(potPin);  
  motorSpeed = map(potValue, 0, 1023, 1, 15); // 속도 조절 범위
  myStepper.setSpeed(motorSpeed);

  Serial.print("Pot Value: ");
  Serial.print(potValue);
  Serial.print(" → Motor Speed: ");
  Serial.println(motorSpeed);

  myStepper.step(stepsPerRevolution / 100); // 일정 스텝만 이동
}
